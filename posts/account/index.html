<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Atomyze Sandbox</title>

    <link rel="stylesheet" href="/doc/css/site.css" />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto+Slab:700|Roboto&display=fallback"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <a href="/doc/" class="link--home">Atomyze Sandbox</a>
      <a href="/doc/" class="link--about">статьи</a>
    </header>
    <main>
      <h2>Аккаунт</h2>
<p>Для предоставления доступа клиенту сети к функционалу развернутых на платформе чейнкодов, была выбрана модель основанная на учетной записи. Каждый клиент проходит процедуру KYC, по завершению которой, администратором создается учетная запись или аккаунт в системном ченкоде ACL. Описание процедуры KYC выходит за рамки данной статьи и определяется ответственными за эксплуатацию проекта на базе платформы атомайз. Аккаунт характеризуется уникальным идентификатором пользователя - адрес клиента, связанным с публичным ключом ED25519, который используется для подтверждения личности клиента сети. Взаимодействие клиента с чейнкодом происходит через транзакции, то есть структурированный пакет информации (набор байт), подписанный одним или несколькими приватными ключами ED25519. Любая транзакция в обязательном порядке содержит следующие поля:</p>
<ul>
<li>имя чейнкода</li>
<li>имя функции</li>
<li>nonce</li>
<li>публичный ключ клиента или ключи, в случае если аккаунт был создан для группы пользователей.</li>
<li>подпись ED25519, или несколько подписей для группового аккаунта</li>
<li>а так же опционально произвольный набор аргументов, необходимых для выполнения желаемой операции на вызываемом чейнкоде. Более подробно см раздел создание чейнкода</li>
</ul>
<p>На уровне чейнкода, каждая транзакция проходит процедуру проверки, в результате которой определятся аккаунт клиента через поиск записи в ACL, а так же проверяется его подпись - авторизация желаемой операции. В случае успешной проверки, управление передается на функцию чейнкода. Реализация чейнкода для работы на платформе атомайз предполагает наследование базовых классов, которые инкапсулируют функционал проверки клиента сети, а так же предоставляют интерфейс для доступа к учетной записи клиента в леджере (БД). Учетная запись клиента может содержать произвольную информацию, например баланс токенов. Доступ к учетной записи может быть как для чтения, так и для записи или изменения данных клиента. Более подробно см фаундейшн, базовый контракт.</p>
<p>Аккаунты бывают однопользовательские и многопользовательские. Однопользовательские - классические аккаунты, где в качестве владельца выступает одна персона и для доступа к учетной записи леджера нужен один ключ. Многопользовательские аккаунты используются для реализации доступа к единой учетной записи нескольких персон, которые находятся в недоверительных отношениях. При этом решается какое число персон необходимо для обеспечения общего консенсуса и доступа к учетной записи аккаунта. Иными словами - сколько надо подписей - N из всего зарегистрированных M участников аккаунта, для того что бы была транзакция прошла проверку и операция была исполнена. Создание многопользовательского аккаунта см раздел фаундейшн ACL.</p>
<p>Так как платформа использует KYC для регистрации клиентов, есть возможность обеспечить восстановление доступа к учетной записи аккаунта, в случае потери приватного ключа (или ключей в случае много пользовательского аккаунта). При этом уникальный идентификатор аккаунта - адрес остается прежний, но меняется связанный с ним ключ или ключи.</p>

    </main>
    <footer>&copy; Atomyze Sandbox</footer>
  </body>
</html>
